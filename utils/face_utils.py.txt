from deepface import DeepFace
from PIL import Image
import matplotlib.pyplot as plt

def compare_faces_arcface(path_img1, path_img2):
    """
    Compare deux visages à l'aide du modèle ArcFace de DeepFace.
    Retourne le dictionnaire produit par DeepFace.verify().
    """
    result = DeepFace.verify(
        img1_path=path_img1,
        img2_path=path_img2,
        model_name='ArcFace'
    )
    return result

def display_two_images(path_img1, path_img2, title1="Image 1", title2="Image 2"):
    """
    Affiche côte à côte deux images : path_img1 et path_img2.
    """
    img1 = Image.open(path_img1)
    img2 = Image.open(path_img2)

    fig, axes = plt.subplots(1, 2, figsize=(10, 5))
    axes[0].imshow(img1)
    axes[0].set_title(title1)
    axes[0].axis("off")

    axes[1].imshow(img2)
    axes[1].set_title(title2)
    axes[1].axis("off")

    plt.tight_layout()
    plt.show()
